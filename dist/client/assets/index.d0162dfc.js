var g=(r,t,e)=>new Promise((n,o)=>{var i=f=>{try{l(e.next(f))}catch(u){o(u)}},s=f=>{try{l(e.throw(f))}catch(u){o(u)}},l=f=>f.done?n(f.value):Promise.resolve(f.value).then(i,s);l((e=e.apply(r,t)).next())});import{u as z,a as C,b as I,s as B,c as J,r as L,d as q,o as K,e as p,f as E,g as _,h as d,i as m,w as k,t as U,j as O,k as D,F as Q,l as X,m as A,_ as tt}from"./index.c4b91f65.js";import{L as x,v as et,B as w,h as P,i as nt,a as rt,b as ot,E as $,c as st,d as it,e as at}from"./initializeContract.42a2f549.js";const c=new x(et),T={},H=w.from(0),j=w.from(-1);function Z(r,t,e,n){const o={fault:t,operation:e};return n!==void 0&&(o.value=n),c.throwError(r,x.errors.NUMERIC_FAULT,o)}let b="0";for(;b.length<256;)b+=b;function V(r){if(typeof r!="number")try{r=w.from(r).toNumber()}catch(t){}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+b.substring(0,r):c.throwArgumentError("invalid decimal size","decimals",r)}function S(r,t){t==null&&(t=0);const e=V(t);r=w.from(r);const n=r.lt(H);n&&(r=r.mul(j));let o=r.mod(e).toString();for(;o.length<e.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=r.div(e).toString();return e.length===1?r=i:r=i+"."+o,n&&(r="-"+r),r}function h(r,t){t==null&&(t=0);const e=V(t);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&c.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&c.throwArgumentError("missing value","value",r);const o=r.split(".");o.length>2&&c.throwArgumentError("too many decimal points","value",r);let i=o[0],s=o[1];for(i||(i="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>e.length-1&&Z("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<e.length-1;)s+="0";const l=w.from(i),f=w.from(s);let u=l.mul(e).add(f);return n&&(u=u.mul(j)),u}class y{constructor(t,e,n,o){t!==T&&c.throwError("cannot use FixedFormat constructor; use FixedFormat.from",x.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=n,this.decimals=o,this.name=(e?"":"u")+"fixed"+String(n)+"x"+String(o),this._multiplier=V(o),Object.freeze(this)}static from(t){if(t instanceof y)return t;typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,o=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||c.throwArgumentError("invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),o=parseInt(i[3])}}else if(t){const i=(s,l,f)=>t[s]==null?f:(typeof t[s]!==l&&c.throwArgumentError("invalid fixed format ("+s+" not "+l+")","format."+s,t[s]),t[s]);e=i("signed","boolean",e),n=i("width","number",n),o=i("decimals","number",o)}return n%8&&c.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),o>80&&c.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new y(T,e,n,o)}}class a{constructor(t,e,n,o){t!==T&&c.throwError("cannot use FixedNumber constructor; use FixedNumber.from",x.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=e,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&c.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=h(this._value,this.format.decimals),n=h(t._value,t.format.decimals);return a.fromValue(e.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=h(this._value,this.format.decimals),n=h(t._value,t.format.decimals);return a.fromValue(e.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=h(this._value,this.format.decimals),n=h(t._value,t.format.decimals);return a.fromValue(e.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=h(this._value,this.format.decimals),n=h(t._value,t.format.decimals);return a.fromValue(e.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let e=a.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(e=e.subUnsafe(R.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let e=a.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(e=e.addUnsafe(R.toFormat(e.format))),e}round(t){t==null&&(t=0);const e=this.toString().split(".");if(e.length===1&&e.push("0"),(t<0||t>80||t%1)&&c.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const n=a.from("1"+b.substring(0,t),this.format),o=ct.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(o).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&c.throwArgumentError("invalid byte width","width",t);const e=w.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return P(e,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return a.fromString(this._value,t)}static fromValue(t,e,n){return n==null&&e!=null&&!nt(e)&&(n=e,e=null),e==null&&(e=0),n==null&&(n="fixed"),a.fromString(S(t,e),y.from(n))}static fromString(t,e){e==null&&(e="fixed");const n=y.from(e),o=h(t,n.decimals);!n.signed&&o.lt(H)&&Z("unsigned value cannot be negative","overflow","value",t);let i=null;n.signed?i=o.toTwos(n.width).toHexString():(i=o.toHexString(),i=P(i,n.width/8));const s=S(o,n.decimals);return new a(T,i,s,n)}static fromBytes(t,e){e==null&&(e="fixed");const n=y.from(e);if(rt(t).length>n.width/8)throw new Error("overflow");let o=w.from(t);n.signed&&(o=o.fromTwos(n.width));const i=o.toTwos((n.signed?0:1)+n.width).toHexString(),s=S(o,n.decimals);return new a(T,i,s,n)}static from(t,e){if(typeof t=="string")return a.fromString(t,e);if(ot(t))return a.fromBytes(t,e);try{return a.fromValue(t,0,e)}catch(n){if(n.code!==x.errors.INVALID_ARGUMENT)throw n}return c.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const R=a.from(1),ct=a.from("0.5"),ft="units/5.7.0";new x(ft);const lt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ut(r,t){if(typeof t=="string"){const e=lt.indexOf(t);e!==-1&&(t=3*e)}return S(r,t!=null?t:18)}function dt(r){return ut(r,18)}function G(){return g(this,null,function*(){const r=z(),{contracts:{tokenContract:t}}=r,e=C(),{currentAddress:n}=e;if(!t||!n)return;const o=dt(yield t.balanceOf(n)),i=I(),{setTokenBalance:s}=i;s(o)})}function mt(){return g(this,null,function*(){const r=z(),{contracts:{tokenContract:t}}=r,n=yield(yield t.mint().catch(o=>{if((o==null?void 0:o.code)!=="ACTION_REJECTED")throw new Error("Mint failed")})).wait();if(n.status===0)throw new Error("Transaction failed");$({message:n.status?"Congratulations!! You get 10M 'BuildWeb3' Token":"Mint Fail",type:n.status?"success":"error"})})}function ht(){const r=C(),{setCurrentAddress:t}=r;t("");const e=I(),{setTokenBalance:n}=e;n("0")}function gt(){const r=C(),{currentAddress:t}=B(r),e=J(),{tokenContractAddress:n}=B(e),o=I(),{tokenBalance:i}=B(o);return{currentAddress:t,tokenContractAddress:n,tokenBalance:i}}function wt(){const r=L(!1);return{minting:r,doMintToken:()=>g(this,null,function*(){try{r.value=!0,yield mt(),yield G()}catch(e){console.error(e),$({message:e.message||"Mint Fail",type:"error"})}finally{r.value=!1}})}}const pt={key:0,class:"contract-address"},_t={key:0,class:"current-address"},kt={key:1,class:"current-address"},yt=q({__name:"MintToken",setup(r){const{currentAddress:t,tokenContractAddress:e,tokenBalance:n}=gt(),{minting:o,doMintToken:i}=wt(),s=L(!0),l=()=>g(this,null,function*(){!t||(s.value=!0,yield it(),yield G(),s.value=!1)}),f=()=>g(this,null,function*(){yield at(),yield l()});return K(()=>g(this,null,function*(){yield l()})),window.ethereum&&window.ethereum.on("accountsChanged",u=>g(this,null,function*(){ht();const W=C(),{setCurrentAddress:v}=W;v(u[0]),yield l()})),(u,W)=>{const v=A.ElAlert,F=A.ElTag,N=A.ElDivider,M=A.ElButton,Y=A.ElLoadingDirective;return p(),E("div",null,[_(v,{title:"'BuildWeb3' Token Introduce",type:"info",description:"'BuildWeb3' Token is a free mint MEME token, you can spend a little gas to mint 10M for fun.",closable:!1}),d(e)?(p(),E("div",pt,[m(" Contract Address: "),_(F,{type:"warning"},{default:k(()=>[m(U(d(e)),1)]),_:1})])):O("",!0),_(N),d(t)?(p(),E(Q,{key:2},[d(t)?(p(),E("div",_t,[m(" Wallet Connetted!! Wallet Address: "),_(F,{type:"success"},{default:k(()=>[m(U(d(t)),1)]),_:1})])):O("",!0),d(t)?(p(),E("div",kt,[m(" You have "),X((p(),D(F,{class:"ml-2",type:"success"},{default:k(()=>[m(U(d(n)),1)]),_:1})),[[Y,s.value]]),m(" BuildWeb3 Token ")])):O("",!0),_(M,{type:"success",onClick:d(i),loading:d(o)},{default:k(()=>[m("Free Mint")]),_:1},8,["onClick","loading"]),_(N),_(M,{type:"primary",onClick:d(st)},{default:k(()=>[m('Add "BuildWeb3" Token to Metamask')]),_:1},8,["onClick"])],64)):(p(),D(M,{key:1,type:"success",onClick:f},{default:k(()=>[m(" Connect Wallet ")]),_:1}))])}}});const Tt=tt(yt,[["__scopeId","data-v-c16acfd6"]]);export{Tt as default};
